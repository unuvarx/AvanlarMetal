@{
    Layout = "_Admin";
    ViewBag.Title = "Mailler";
}

<!DOCTYPE html>

<html>
<head>
 
    <style>
        /* .message için stil */
        .message {
            max-width: 50px; /* Mesaj uzunluğunu sınırlamak için uygun bir genişlik belirleyin */
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            cursor: pointer; /* Kullanıcıya metne tıklanabileceği bilgisini veriyor */
        }

        /* Mesajın tamamını göstermek için tooltip */
        .message-tooltip {
            display: none;
            position: absolute;
            background-color: #f8f9fa;
            border: 1px solid #ccc;
            padding: 5px;
            max-width: 300px;
            word-wrap: break-word;
            z-index: 1000;
        }
    </style>
</head>
<body>
<div class="admin">
   
    <h4>Mailler</h4>
    <table class="table table-bordered table-dark">
        <thead>
        <tr>
            <th>Ad Soyad</th>
            <th>Mail</th>
            <th>Konu</th>
            <th>Mesaj</th>
            <th>İşlemler</th>
        </tr>
        </thead>
        <tbody>
        @{
            if (ViewBag.Mails != null)
            {
                for (int i = 0; i < ViewBag.Mails.Count; i++)
                {
                    var mail = ViewBag.Mails[i];
                    <tr>
                        <td>@mail.NameSurname</td>
                        <td>@mail.Email</td>
                        <td>@mail.Subject</td>
                        <td class="message" data-bs-toggle="tooltip" title="@mail.Message">@mail.Message</td> <!-- Tooltip ile metnin tamamını göster -->
                        <td>
                            <form action="/admin/DeleteMailReq" method="post">
                                <input type="hidden" name="mailId" value="@mail.MailId">
                                <button type="submit" class="btn btn-danger">Sil</button>
                            </form>
                        </td>
                    </tr>
                }
            }
        }
        </tbody>
    </table>
</div>

<script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<script>
    // Tooltip'leri aktive etmek için
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    });
</script>
</body>
</html>
